<html>
<head>
</head>
<body style="overflow: hidden;">
<canvas id="cnv" width="800" height="800"></canvas>

<div id="init-text" style="position: absolute; left: 45%; top: 45%">Press Space to start</div>

<script>
	let input = [['w', 'x', 'u', 'p', 'p', 'p', 'l', 'n'], ['d', 'u', 'c', 'i', 'n', 'd', 'y', 'd'], ['r', 'h', 's', 'z', 'l', 'y', 'f', 'u'], ['k', 'o', 'u', 'q', 'v', 'p', 'u', 'e'], ['n', 'w', 'n', 't', 'i', 'z', 'i', 'e'], ['f', 'e', 'y', 'h', 'u', 'u', 'r', 'g'], ['q', 'l', 'g', 'z', 's', 'm', 'y', 'a'], ['s', 'v', 'w', 'i', 'j', 'u', 'j', 'v'], ['t', 'c', 'm', 's', 'i', 'u', 'l', 'y'], ['v', 'y', 'r', 'n', 'y', 'n', 'v', 'z'], ['n', 'm', 'i', 'd', 'j', 'j', 'x', 'd'], ['c', 'i', 'd', 'u', 't', 't', 'z', 'r'], ['n', 'o', 'f', 'n', 'i', 'j', 'f', 'o'], ['g', 'h', 's', 'k', 'p', 'i', 'f', 'p'], ['y', 'o', 'y', 'v', 's', 'x', 'c', 't'], ['a', 'q', 'w', 'z', 'g', 'o', 'u', 'h'], ['i', 'h', 'h', 'k', 'd', 'a', 'y', 'n'], ['l', 'm', 'w', 'y', 'a', 'p', 's', 'l'], ['n', 'x', 'k', 'd', 'w', 'n', 'o', 'q'], ['h', 'd', 'k', 'c', 'v', 'j', 'r', 'r'], ['e', 'c', 'x', 'v', 'd', 'b', 'e', 'g'], ['s', 'f', 'y', 'b', 's', 'v', 'u', 'u'], ['g', 'y', 'g', 'v', 'l', 'g', 'h', 'h'], ['i', 'v', 'o', 'k', 'u', 'f', 't', 'm'], ['g', 'r', 'o', 'l', 'a', 'r', 'f', 'j'], ['t', 'g', 'z', 'p', 'j', 'l', 'c', 'a'], ['l', 'o', 'j', 'l', 'c', 'r', 'k', 's'], ['b', 'm', 'x', 'o', 'g', 'g', 'g', 'c'], ['i', 'a', 'b', 'l', 'm', 'c', 'e', 'm'], ['c', 'r', 'a', 'c', 't', 'n', 't', 'a'], ['m', 'p', 'd', 'r', 'q', 'x', 'e', 'a'], ['b', 'd', 'v', 'r', 'q', 'b', 'k', 'y'], ['z', 'y', 'm', 'l', 'y', 'y', 'y', 'k'], ['d', 'h', 'e', 'n', 'g', 'v', 't', 'h'], ['v', 'r', 'v', 'v', 'f', 'n', 'o', 'o'], ['i', 'b', 'e', 'm', 'y', 'g', 'p', 'u'], ['y', 'j', 'e', 't', 'q', 'q', 'r', 'c'], ['y', 'h', 'v', 'p', 'k', 'x', 'x', 'c'], ['r', 'q', 'f', 'z', 'o', 'a', 'k', 'w'], ['u', 'i', 'h', 'c', 'z', 'n', 's', 'n'], ['b', 'l', 'o', 'v', 'c', 'r', 'p', 'x'], ['d', 'k', 'r', 'f', 'q', 'p', 'c', 'o'], ['x', 'y', 't', 'y', 'a', 'h', 'w', 'u'], ['c', 'o', 'r', 'l', 'g', 'h', 'c', 'o'], ['g', 'i', 's', 'l', 'i', 'o', 'b', 'o'], ['q', 'i', 'f', 'x', 'x', 'i', 'z', 'h'], ['u', 'y', 'k', 'q', 'y', 'w', 'c', 'f'], ['p', 'f', 'n', 'p', 'b', 'l', 'l', 'g'], ['k', 'q', 'c', 'm', 'w', 'c', 's', 'f'], ['j', 'g', 'f', 'u', 'j', 's', 's', 'e'], ['k', 'l', 'm', 'g', 'e', 'o', 'z', 'q'], ['g', 'p', 'z', 'g', 'm', 'j', 'f', 'r'], ['v', 'i', 'e', 'v', 'a', 't', 'y', 'q'], ['r', 'k', 'h', 'l', 'q', 'z', 'g', 'y'], ['o', 'v', 't', 'o', 'p', 'm', 'z', 'u'], ['a', 'h', 'j', 'b', 'k', 'z', 'a', 'w'], ['n', 'v', 'w', 'f', 'x', 'f', 'v', 'b'], ['n', 'q', 'z', 'b', 'y', 's', 'n', 'a'], ['b', 'r', 'e', 'x', 'd', 'a', 'p', 'i'], ['j', 'v', 'w', 'u', 't', 'z', 'm', 'q'], ['r', 'e', 'o', 'a', 'f', 'h', 'k', 'r'], ['a', 'e', 'h', 'a', 'r', 'b', 'y', 'c'], ['y', 'm', 'v', 'j', 'u', 'q', 'p', 'n'], ['o', 'd', 'w', 'e', 'p', 't', 'p', 'x'], ['m', 'w', 'f', 'z', 'f', 'g', 'r', 'q'], ['q', 'n', 'b', 'g', 'u', 'j', 'q', 'e'], ['j', 'd', 'v', 'a', 'v', 's', 'i', 'v'], ['u', 'f', 'g', 's', 'a', 't', 'e', 'p'], ['u', 't', 'v', 't', 'v', 'n', 'd', 't'], ['x', 'y', 'o', 'n', 'b', 'z', 't', 'r'], ['o', 'u', 'y', 'a', 'e', 'q', 'n', 'i'], ['e', 'p', 'n', 'a', 's', 'k', 'i', 'v'], ['t', 'q', 'z', 'w', 'x', 'a', 's', 'p'], ['s', 'x', 'u', 'd', 'j', 'a', 'k', 'j'], ['p', 'p', 'b', 'm', 'a', 'j', 's', 'r'], ['s', 'p', 'q', 'c', 'q', 'q', 'a', 'd'], ['b', 'u', 'l', 'n', 'h', 'j', 'f', 's'], ['d', 'e', 'b', 'y', 'q', 'z', 'y', 'm'], ['z', 'l', 'e', 'd', 'o', 'c', 'p', 's'], ['h', 'v', 't', 'w', 'w', 'n', 'i', 'm'], ['w', 'u', 'v', 'q', 'j', 'k', 'm', 't'], ['v', 'i', 'x', 'o', 'w', 'h', 'l', 'c'], ['s', 'y', 'n', 'p', 'j', 'w', 'r', 'g'], ['y', 'p', 'r', 'c', 'u', 'i', 'c', 'v'], ['w', 'l', 'b', 'd', 'r', 'r', 'h', 'u'], ['m', 'h', 'z', 'v', 'z', 'e', 'i', 't'], ['j', 'f', 'r', 't', 'u', 'd', 'a', 'w'], ['n', 't', 'd', 'g', 't', 'x', 'b', 'f'], ['m', 'q', 'v', 'k', 'b', 'k', 'h', 'a'], ['a', 'v', 'z', 'h', 'o', 'c', 'n', 'k'], ['r', 'v', 'c', 'n', 'n', 'z', 'l', 'b'], ['e', 'z', 'h', 'v', 'b', 'p', 'x', 'p'], ['b', 'g', 'x', 'e', 'u', 'd', 'l', 'r'], ['s', 'n', 'n', 'c', 'f', 'b', 'u', 'n'], ['c', 'c', 'e', 'y', 'y', 'd', 'v', 'f'], ['e', 'r', 'g', 'g', 'h', 'y', 'i', 'v'], ['b', 'a', 'y', 'w', 'x', 'x', 'g', 'm'], ['r', 'l', 'u', 'o', 'y', 'm', 'd', 'j'], ['h', 'j', 'y', 't', 'm', 'g', 'x', 'b'], ['e', 'i', 'v', 'a', 'f', 'b', 'l', 'f'], ['q', 'o', 't', 'c', 's', 'o', 'm', 'v'], ['z', 's', 't', 'l', 'p', 'd', 'e', 'o'], ['i', 'm', 'q', 'w', 'j', 'h', 'd', 'd'], ['k', 'm', 'l', 'k', 'b', 'w', 'n', 'j'], ['m', 'q', 'u', 'z', 'l', 'g', 'l', 'q'], ['l', 'r', 'a', 's', 'x', 'x', 'z', 'n'], ['a', 'f', 'n', 'r', 'z', 'b', 'l', 'r'], ['l', 'j', 'l', 'r', 'z', 'w', 'k', 'v'], ['w', 'i', 'i', 'c', 'l', 'w', 'q', 'v'], ['t', 'b', 'a', 'm', 'm', 's', 'o', 'i'], ['k', 'i', 't', 'v', 'j', 'd', 'i', 'u'], ['t', 'w', 'x', 'h', 'w', 'n', 'v', 'x'], ['q', 'w', 'l', 'r', 't', 'r', 'm', 'z'], ['n', 's', 'a', 'b', 'm', 'i', 'd', 'x'], ['y', 's', 'q', 'x', 'z', 'a', 'i', 'd'], ['q', 't', 'z', 'x', 'v', 'u', 'o', 'w'], ['l', 'p', 'n', 'z', 'i', 'b', 'a', 'y'], ['f', 'k', 'y', 'f', 'k', 'c', 'w', 'h'], ['g', 'o', 'a', 'e', 'e', 'n', 'g', 'g'], ['j', 'c', 'g', 'y', 'f', 'q', 'j', 'd'], ['a', 'v', 'p', 'l', 'd', 'l', 'd', 'h'], ['l', 's', 'e', 'f', 'w', 'w', 'x', 'g'], ['c', 'b', 'n', 'i', 'v', 'b', 'a', 'h'], ['z', 'n', 'i', 'd', 'o', 'a', 'k', 'v'], ['o', 'i', 'u', 'p', 'm', 'q', 'h', 's'], ['g', 'z', 'g', 'z', 'x', 'w', 'a', 'u'], ['s', 'v', 'i', 'm', 'm', 'p', 'q', 'p'], ['c', 'z', 'j', 'o', 'f', 'z', 'k', 'x'], ['s', 'l', 'v', 'a', 'h', 'v', 'u', 'j'], ['h', 'g', 'g', 'h', 'p', 'w', 'z', 'i'], ['q', 'q', 'y', 't', 'g', 't', 'e', 'w'], ['f', 'c', 'd', 'z', 'd', 'i', 'j', 'f'], ['w', 'f', 'm', 'y', 'j', 'j', 'j', 'g'], ['o', 'a', 'b', 'u', 'k', 'f', 'a', 'm'], ['b', 'f', 'p', 'y', 'j', 'a', 'r', 'h'], ['o', 'p', 'j', 'j', 'z', 'u', 'x', 'p'], ['d', 't', 'u', 'r', 'i', 's', 'c', 's'], ['y', 'd', 'z', 'j', 'x', 'i', 'j', 'm'], ['u', 's', 'h', 'h', 'l', 'f', 'f', 'h'], ['j', 'r', 'h', 'b', 'f', 'h', 'v', 'n'], ['o', 'z', 'j', 'e', 's', 'x', 'q', 's'], ['p', 's', 'o', 'a', 'z', 'e', 'h', 'o'], ['c', 'z', 'w', 'p', 'e', 'x', 'g', 'f'], ['a', 'u', 'b', 'b', 'u', 'c', 'm', 'c'], ['f', 'e', 'k', 'h', 'v', 'f', 'g', 'p'], ['b', 'l', 'i', 'x', 'q', 'i', 'v', 'h'], ['d', 'y', 't', 'o', 'x', 'j', 'k', 's'], ['g', 'e', 'i', 'p', 'b', 'n', 'a', 'w'], ['f', 's', 'y', 'g', 'u', 'm', 'd', 'f'], ['f', 'n', 'q', 'h', 'v', 'k', 'a', 'x'], ['w', 'u', 'e', 'q', 'm', 'k', 'x', 'b'], ['h', 'j', 'v', 'p', 'e', 'u', 'i', 'e'], ['r', 'i', 'r', 'g', 'r', 'k', 'x', 'j'], ['l', 'h', 'v', 'u', 'n', 'q', 'n', 'h'], ['v', 'x', 'h', 'c', 'g', 't', 'x', 'y'], ['l', 'j', 'i', 'i', 'q', 'w', 'h', 'v'], ['g', 'm', 'c', 'd', 'n', 'v', 'o', 's'], ['z', 'i', 'w', 's', 'a', 'b', 'r', 'z'], ['z', 'd', 't', 'g', 'r', 'f', 'f', 'n'], ['m', 'w', 'i', 'j', 'r', 'x', 'p', 'n'], ['j', 'p', 'u', 'x', 't', 'k', 'z', 'e'], ['b', 'b', 'u', 'f', 'x', 'k', 'v', 'y'], ['o', 'r', 'b', 'p', 'b', 'v', 'y', 'c'], ['c', 'w', 'b', 'o', 'y', 'i', 'l', 'k'], ['n', 'k', 'j', 'l', 'j', 'r', 'c', 'y'], ['y', 'b', 'd', 'w', 'c', 'k', 'j', 'k'], ['i', 'e', 'g', 'f', 'y', 'm', 'e', 'i'], ['p', 'm', 'o', 'c', 'y', 'p', 'n', 'y'], ['t', 'b', 'v', 'b', 'u', 'v', 'r', 'm'], ['u', 'o', 'v', 'w', 'j', 'j', 'p', 't'], ['d', 'z', 'f', 'p', 'i', 'x', 'w', 'u'], ['p', 'y', 'w', 'z', 'r', 'l', 'z', 'i'], ['g', 'c', 'k', 'w', 'a', 't', 'y', 'i'], ['j', 'x', 'a', 'p', 'z', 'm', 'e', 'w'], ['o', 'e', 'a', 'i', 'i', 'v', 'q', 'f'], ['e', 'j', 't', 's', 'e', 'f', 'k', 'd'], ['n', 'j', 'x', 'p', 'q', 't', 'w', 'u'], ['h', 'g', 'w', 'c', 'b', 'r', 'o', 'k'], ['v', 'm', 'm', 'g', 'b', 'a', 'd', 'c'], ['m', 's', 's', 'f', 'z', 'x', 'h', 'n'], ['y', 'h', 'j', 'f', 'm', 'f', 'w', 'u'], ['i', 'y', 'l', 'h', 'i', 'd', 'd', 'x'], ['s', 't', 'j', 'p', 'p', 'd', 'o', 'y'], ['t', 'm', 't', 'd', 'n', 'k', 'e', 'd'], ['p', 'o', 'w', 'a', 'l', 'o', 'd', 'l'], ['o', 'r', 'y', 'd', 'p', 'd', 'e', 't'], ['w', 'g', 'l', 'r', 'r', 't', 'm', 'z'], ['c', 'm', 'h', 'x', 'a', 'g', 'u', 'b'], ['t', 'z', 'u', 'n', 't', 'y', 'c', 'z'], ['c', 'n', 'f', 'i', 'm', 'r', 'i', 'a'], ['e', 'g', 'k', 'l', 'a', 'e', 'o', 'q'], ['r', 'q', 's', 'j', 'y', 'v', 'c', 'k'], ['i', 'x', 'i', 'z', 'e', 'd', 'i', 'd'], ['p', 'b', 'm', 'r', 'g', 'v', 'g', 'e'], ['g', 'g', 'p', 'a', 's', 'n', 'u', 'z'], ['m', 'm', 's', 'x', 'l', 'h', 's', 'g'], ['i', 'a', 'z', 'v', 'w', 'o', 'f', 'l'], ['x', 'd', 'b', 'i', 'g', 'y', 't', 'q'], ['h', 'd', 'u', 'b', 'b', 'p', 's', 'h'], ['y', 'f', 'u', 'k', 't', 'm', 'i', 'v'], ['q', 'e', 'n', 'f', 'q', 'h', 'h', 'q'], ['d', 'y', 'k', 'n', 'y', 'h', 'y', 'r'], ['t', 'e', 'h', 'l', 'p', 'l', 'w', 'l'], ['m', 's', 'x', 'x', 'y', 't', 'n', 'l'], ['m', 'z', 'z', 'i', 'b', 'i', 'l', 'g'], ['e', 'k', 'n', 'd', 't', 'q', 'h', 'x'], ['n', 'r', 'q', 'g', 'c', 'e', 'b', 'z'], ['k', 'x', 'p', 'o', 'o', 'p', 'h', 't'], ['u', 'k', 'n', 'l', 'r', 'v', 's', 'q'], ['t', 'k', 's', 'v', 'u', 'l', 'f', 'n'], ['b', 'z', 'a', 'e', 'r', 'z', 'k', 'd'], ['e', 'l', 'z', 'u', 'n', 'e', 'c', 'g'], ['w', 'q', 'o', 'd', 'f', 'h', 'h', 'l'], ['q', 'a', 'r', 'i', 'r', 'o', 'b', 'h'], ['l', 'b', 'd', 'i', 'h', 'f', 't', 'v'], ['j', 'e', 'd', 'o', 'k', 'h', 'k', 'c'], ['z', 'o', 'r', 'y', 'e', 'e', 'g', 'h'], ['h', 'c', 'e', 'u', 'f', 'c', 'g', 'x'], ['i', 'v', 'w', 'e', 'x', 'l', 'j', 'x'], ['t', 'e', 'c', 'y', 'n', 'r', 't', 'k'], ['u', 'l', 'u', 'd', 'f', 'k', 'p', 'g'], ['u', 'b', 'n', 'v', 'c', 'a', 'd', 'x'], ['t', 'u', 'f', 'd', 'e', 'i', 'k', 'o'], ['f', 'h', 'l', 'g', 'w', 'y', 's', 'q'], ['q', 'k', 'g', 'e', 'c', 'u', 'n', 'v'], ['n', 'k', 'h', 'p', 'o', 'e', 'f', 'm'], ['v', 'a', 'j', 'm', 'r', 'm', 'b', 'j'], ['m', 'x', 'b', 'h', 'z', 'h', 'i', 'j'], ['z', 'x', 'k', 'n', 'r', 'p', 'f', 'a'], ['i', 'z', 'i', 'j', 'm', 'r', 'g', 'l'], ['f', 'h', 'd', 'e', 'c', 'e', 'w', 'z'], ['n', 'e', 'r', 'a', 'z', 'p', 'w', 'u'], ['j', 'p', 'u', 's', 'q', 'g', 'n', 'i'], ['c', 'y', 'c', 'y', 'e', 'a', 'v', 'i'], ['v', 'd', 'i', 'l', 'x', 'q', 'j', 'e'], ['l', 'd', 's', 'q', 'n', 'f', 'a', 'm'], ['d', 'k', 'q', 'k', 'f', 'o', 'b', 'n'], ['c', 't', 'l', 'r', 'v', 's', 'b', 'r'], ['b', 'k', 'm', 'f', 'p', 'z', 'b', 'e'], ['f', 'd', 'k', 'l', 'b', 'g', 'r', 'f'], ['c', 'j', 'j', 'x', 'z', 'z', 'l', 'o'], ['z', 'j', 'g', 'o', 't', 'p', 'c', 'i'], ['j', 's', 'e', 'k', 'r', 'o', 'l', 'b'], ['x', 'u', 'd', 'o', 'q', 'z', 'p', 'y'], ['k', 'h', 'z', 'y', 'x', 'u', 'd', 'b'], ['p', 'g', 'f', 'x', 'h', 'b', 'w', 'p'], ['g', 'h', 'h', 'q', 'd', 'k', 'h', 'c'], ['b', 's', 'z', 'y', 'o', 'r', 'o', 'p'], ['q', 'o', 'c', 't', 'n', 'r', 'c', 'u'], ['z', 'n', 't', 'e', 'x', 'p', 'r', 'o'], ['y', 'q', 't', 'w', 'i', 'j', 'x', 'o'], ['u', 'f', 'g', 'o', 'd', 'u', 'v', 'a'], ['r', 'f', 'm', 'v', 'o', 'k', 'e', 'l'], ['i', 'z', 'x', 'd', 'a', 'b', 'd', 'u'], ['j', 'j', 'l', 'c', 'y', 't', 's', 'p'], ['s', 'q', 'b', 'z', 'x', 'm', 'e', 'i'], ['l', 'b', 'm', 'f', 'q', 'h', 'm', 'k'], ['i', 'q', 'u', 'g', 'o', 'z', 'x', 'v'], ['g', 'q', 'k', 'e', 'r', 'u', 'r', 's'], ['o', 'b', 'a', 'u', 'q', 'i', 'o', 'l'], ['v', 'j', 'i', 'a', 'v', 'p', 'j', 'g'], ['x', 'w', 'i', 'f', 'i', 's', 'o', 'a'], ['l', 'g', 'd', 's', 'y', 'b', 'v', 'e'], ['n', 'c', 'k', 't', 'l', 'b', 'w', 's'], ['b', 'a', 'a', 'e', 'h', 'i', 'y', 'x'], ['k', 'y', 'x', 'r', 'p', 'l', 'g', 'a'], ['k', 'e', 'e', 'y', 'j', 'w', 'j', 'r'], ['k', 'f', 'w', 's', 'r', 's', 'm', 'y'], ['o', 'b', 'i', 'b', 'c', 'm', 'p', 'e'], ['d', 'v', 'j', 'j', 'h', 't', 'u', 't'], ['o', 'c', 'e', 'z', 'e', 'n', 'x', 's'], ['v', 'x', 's', 'w', 'i', 'u', 'w', 'j'], ['m', 'o', 'i', 'a', 'c', 'p', 'c', 'i'], ['t', 'z', 'o', 'u', 'g', 'o', 'g', 'f'], ['j', 'a', 'l', 'd', 'o', 'u', 'n', 'z'], ['j', 'l', 's', 'c', 'k', 'w', 'f', 'b'], ['d', 'q', 'n', 'l', 'x', 'e', 'u', 'a'], ['a', 'p', 'r', 'f', 'n', 'b', 'j', 'b'], ['b', 't', 'r', 'a', 'c', 'e', 'x', 'v'], ['y', 'i', 'r', 'd', 'c', 'c', 'u', 'r'], ['y', 'i', 'l', 'v', 'o', 't', 'b', 'y'], ['q', 'j', 'o', 'k', 's', 'l', 'p', 'd'], ['t', 'd', 'x', 'c', 'p', 'y', 'r', 'f'], ['m', 'e', 'b', 'a', 'c', 'f', 'i', 'e'], ['b', 'x', 'c', 'g', 'h', 'o', 'l', 'o'], ['z', 's', 'j', 'n', 'm', 'o', 'h', 'j'], ['r', 'o', 'o', 'z', 't', 'f', 'u', 'f'], ['r', 'o', 'w', 'm', 'b', 'v', 'g', 'p'], ['m', 'n', 'e', 'o', 'w', 'y', 'h', 'w'], ['q', 'o', 'v', 'o', 'd', 'y', 'o', 'j'], ['l', 'g', 's', 'o', 'u', 'c', 'p', 't'], ['r', 'n', 'f', 'u', 'p', 'v', 'c', 'q'], ['i', 'z', 'g', 's', 'k', 'i', 'd', 'y'], ['o', 'x', 'j', 'j', 't', 's', 'f', 'm'], ['h', 'g', 'd', 'h', 'c', 'r', 'z', 'z'], ['f', 'b', 'h', 'k', 'd', 'u', 'k', 'c'], ['o', 'f', 'e', 'j', 'c', 'g', 'g', 'd'], ['f', 'y', 'g', 'd', 'u', 'l', 'i', 'h'], ['q', 'g', 'y', 'c', 's', 'n', 'f', 'p'], ['y', 's', 'h', 'n', 'i', 'p', 'v', 'g'], ['o', 'l', 'w', 'j', 'd', 'r', 'x', 'j'], ['i', 'j', 'e', 'h', 'i', 's', 'k', 'z'], ['a', 'n', 'e', 'k', 'c', 'i', 'j', 'z'], ['y', 'g', 's', 'm', 't', 'm', 'u', 'n'], ['n', 'v', 'y', 't', 'g', 'o', 'e', 'j'], ['x', 'x', 'o', 't', 'd', 't', 'i', 'c'], ['e', 'a', 'd', 'm', 'j', 'g', 'q', 'y'], ['m', 'c', 'n', 'z', 'f', 'c', 't', 'c'], ['n', 'x', 'c', 'e', 'w', 'n', 'p', 'p'], ['e', 'z', 's', 'u', 'l', 'd', 'p', 'm'], ['a', 's', 'p', 'b', 'b', 'h', 't', 'r'], ['a', 'b', 's', 'n', 'g', 'j', 'p', 'y'], ['b', 'b', 'j', 'm', 'x', 'z', 'v', 'b'], ['x', 'd', 'c', 'h', 'c', 'q', 'b', 't'], ['v', 's', 'k', 'v', 'd', 'r', 'm', 'w'], ['f', 'b', 'x', 'w', 'i', 'z', 'h', 'b'], ['i', 'c', 'm', 'b', 'a', 'j', 'u', 'e'], ['r', 'q', 'n', 'b', 'g', 'e', 'q', 'q'], ['f', 'r', 'i', 'i', 'v', 'c', 'h', 'k'], ['z', 'w', 'l', 'q', 'o', 'r', 'z', 'a'], ['t', 'u', 'u', 'v', 'd', 'i', 'q', 'x'], ['d', 'v', 'j', 'y', 's', 'e', 'a', 'i'], ['z', 'k', 'i', 'x', 'q', 'v', 'g', 't'], ['q', 'i', 'r', 'z', 'b', 't', 't', 'e'], ['n', 'w', 'g', 't', 'o', 'd', 'e', 'f'], ['h', 'j', 'g', 'n', 'i', 'l', 'u', 'g'], ['p', 'm', 'y', 'r', 'v', 'a', 'r', 'y'], ['p', 'd', 'o', 'n', 'c', 'p', 'n', 'i'], ['x', 'd', 'b', 'u', 'v', 'k', 'i', 'o'], ['e', 'x', 'd', 'a', 'g', 'c', 'h', 'd'], ['t', 'm', 'c', 'h', 'w', 'g', 'z', 'n'], ['x', 'g', 'q', 'r', 'i', 'q', 'n', 'e'], ['h', 'l', 'n', 'm', 'l', 'o', 'e', 'w'], ['u', 'q', 'd', 'j', 'x', 'g', 'm', 't'], ['u', 'l', 'a', 'x', 'l', 'd', 'q', 'c'], ['k', 'k', 'a', 'e', 'v', 'j', 'a', 'p'], ['b', 'x', 'd', 'q', 'w', 'd', 'z', 't'], ['s', 'o', 'a', 'c', 'l', 'k', 'q', 'q'], ['j', 'q', 'o', 'q', 'j', 'w', 'x', 'w'], ['v', 'r', 'l', 'y', 'k', 's', 'i', 'm'], ['r', 'a', 'p', 'q', 'a', 'n', 'i', 'a'], ['a', 'd', 'h', 'k', 'v', 'm', 'u', 'r'], ['r', 'y', 'o', 'w', 'h', 'v', 'b', 'x'], ['h', 'c', 'x', 't', 'i', 'w', 'q', 'k'], ['j', 'p', 'i', 'k', 'h', 'e', 'd', 'h'], ['h', 'd', 'o', 's', 'v', 's', 'k', 'q'], ['v', 't', 's', 'k', 'h', 'l', 'b', 'v'], ['x', 'p', 'y', 'k', 'o', 'k', 'q', 'p'], ['o', 'x', 'l', 'e', 'n', 'm', 'h', 'g'], ['u', 't', 'j', 'i', 'p', 'b', 'a', 'w'], ['x', 'y', 'q', 'p', 's', 'o', 'n', 'c'], ['f', 'r', 'q', 'g', 'v', 'e', 'z', 'n'], ['c', 'i', 'j', 'i', 'k', 'l', 'x', 'w'], ['x', 'w', 's', 'x', 't', 'r', 'c', 'f'], ['o', 'd', 'a', 'r', 'e', 'e', 'm', 'q'], ['d', 'e', 'r', 'd', 't', 'u', 'x', 'x'], ['x', 'o', 'p', 'b', 'g', 'a', 's', 'q'], ['k', 'u', 'z', 'i', 'p', 'u', 'h', 'f'], ['e', 'p', 't', 'b', 'p', 'o', 'o', 's'], ['j', 't', 'e', 's', 'g', 'e', 't', 'v'], ['v', 'v', 'q', 'c', 'x', 'y', 'm', 'r'], ['w', 'v', 'm', 't', 'u', 'o', 'l', 'f'], ['a', 'v', 'e', 'j', 'o', 'n', 'o', 'y'], ['w', 'f', 'w', 'i', 'z', 'b', 'a', 'g'], ['s', 'r', 'p', 'l', 'b', 'n', 'v', 's'], ['g', 'b', 'k', 'r', 'h', 'h', 's', 'd'], ['x', 'u', 'p', 'w', 'h', 'j', 'j', 'h'], ['g', 'l', 'z', 't', 'w', 'x', 'n', 'o'], ['y', 'y', 'a', 'p', 'm', 'u', 'm', 'i'], ['h', 'z', 'c', 'l', 'a', 'd', 'v', 'm'], ['t', 'q', 'd', 'y', 'e', 'x', 'y', 'o'], ['e', 'g', 's', 'i', 's', 'f', 't', 'i'], ['p', 'j', 'w', 'r', 'p', 'c', 'r', 'l'], ['z', 'w', 'i', 'g', 'k', 'n', 's', 'v'], ['v', 'n', 't', 'h', 's', 'c', 'f', 'f'], ['w', 'n', 'q', 'g', 'g', 'f', 'b', 'd'], ['i', 'h', 'v', 'y', 's', 'q', 'h', 'a'], ['w', 'y', 'p', 'f', 'z', 'k', 'z', 'u'], ['c', 'j', 'j', 'u', 'w', 'j', 'e', 'f'], ['y', 'o', 'r', 'a', 'o', 'z', 'q', 'u'], ['h', 'r', 'l', 'p', 'h', 'd', 't', 'h'], ['v', 'h', 'y', 'x', 'l', 'k', 'd', 'n'], ['c', 'g', 'p', 'z', 'b', 's', 'a', 'd'], ['g', 'f', 'x', 'n', 'h', 'j', 'n', 'j'], ['k', 'm', 't', 'h', 'f', 'r', 'r', 'c'], ['g', 'h', 'g', 'r', 'j', 'j', 'u', 'd'], ['b', 'u', 'p', 'q', 'u', 'e', 'o', 'b'], ['n', 'c', 'k', 'v', 'u', 'a', 'l', 'r'], ['q', 'e', 'z', 'q', 'f', 'q', 'y', 'o'], ['f', 'u', 'c', 's', 'o', 'g', 't', 'm'], ['z', 'c', 'x', 'h', 'y', 'p', 'd', 'i'], ['f', 'x', 'm', 'j', 'p', 'd', 'd', 'm'], ['z', 's', 'u', 'v', 'v', 'y', 'v', 't'], ['k', 'l', 'p', 's', 'm', 'v', 'x', 'e'], ['a', 'u', 'k', 'y', 'w', 'w', 'y', 'b'], ['e', 't', 'b', 'm', 'r', 't', 'v', 'o'], ['u', 'x', 'g', 'g', 'm', 'y', 'l', 'j'], ['q', 'l', 'p', 't', 'n', 'y', 'y', 'b'], ['a', 'w', 'f', 'x', 'r', 'l', 'q', 'k'], ['q', 'f', 'i', 'u', 'k', 's', 'l', 'n'], ['x', 'm', 's', 'u', 'z', 's', 'a', 'b'], ['u', 'p', 'z', 's', 'k', 'b', 'a', 'x'], ['e', 'j', 'h', 'l', 'a', 'z', 'k', 'n'], ['a', 's', 'p', 'u', 'g', 's', 'w', 'h'], ['s', 't', 'f', 'd', 'b', 'h', 'n', 'a'], ['k', 'g', 'n', 'h', 'z', 'f', 'w', 'a'], ['a', 'n', 'b', 'o', 'c', 'a', 't', 'p'], ['z', 's', 'q', 'f', 'n', 'l', 'k', 'l'], ['m', 'n', 'k', 'b', 't', 'y', 'g', 'k'], ['m', 'u', 'y', 'w', 'f', 'y', 'z', 'e'], ['v', 'u', 'f', 'e', 'm', 'a', 't', 'v'], ['r', 'j', 'n', 'r', 'a', 'v', 'b', 'b'], ['q', 'u', 'f', 'w', 'w', 'q', 'm', 'l'], ['s', 't', 'g', 'x', 'd', 'c', 'r', 's'], ['d', 'o', 't', 'm', 'p', 'g', 'q', 'k'], ['m', 'p', 'j', 'g', 'm', 'l', 'g', 'n'], ['n', 'n', 'b', 'g', 'f', 'g', 'b', 'i'], ['p', 'a', 'q', 's', 'v', 'f', 'u', 'u'], ['t', 'a', 'q', 's', 'z', 'x', 'q', 'w'], ['l', 'f', 'e', 'm', 'n', 'i', 'u', 'k'], ['h', 'n', 'f', 'q', 'e', 'k', 'v', 'l'], ['d', 'd', 'a', 'r', 'k', 'f', 'e', 'z'], ['i', 'a', 't', 'z', 's', 'f', 'j', 'g'], ['g', 'j', 'b', 'y', 'f', 'w', 'o', 'h'], ['u', 'n', 'e', 'b', 'q', 'b', 'g', 'q'], ['e', 'y', 's', 'o', 's', 'u', 'j', 'o'], ['s', 'm', 's', 'k', 'l', 'h', 'a', 'j'], ['g', 'c', 'z', 'w', 'k', 'e', 't', 'm'], ['h', 'a', 'l', 'h', 'd', 'y', 'c', 'w'], ['e', 'c', 'c', 'o', 'p', 'a', 'z', 'l'], ['w', 'j', 'g', 'u', 'o', 'a', 'v', 'c'], ['n', 'x', 'f', 'f', 'a', 'm', 'i', 'g'], ['q', 't', 'a', 'u', 'n', 'y', 'f', 'g'], ['c', 'q', 'v', 'l', 'y', 'r', 'h', 'w'], ['k', 't', 'c', 'n', 'h', 'g', 'm', 'y'], ['s', 'r', 'c', 'w', 'x', 'x', 'f', 'e'], ['w', 'w', 'j', 'q', 'd', 'u', 'v', 'j'], ['j', 'g', 'w', 'j', 'r', 'b', 'c', 't'], ['p', 'e', 'r', 's', 'l', 't', 'z', 'k'], ['b', 'i', 'j', 'm', 'w', 'd', 's', 'v'], ['f', 'a', 'q', 'e', 't', 'g', 't', 't'], ['m', 'w', 'p', 'k', 'd', 'i', 'b', 'g'], ['k', 'b', 'l', 'r', 't', 'g', 'v', 'k'], ['i', 'a', 'x', 'j', 'y', 'q', 'a', 'z'], ['a', 'k', 'v', 'w', 'l', 'v', 'k', 'c'], ['w', 'n', 'g', 'z', 'q', 'c', 'm', 'c'], ['l', 'z', 'r', 'm', 'h', 'u', 'n', 'p'], ['i', 'b', 'z', 'p', 'k', 'h', 'i', 'a'], ['d', 'r', 'q', 'a', 's', 'q', 'z', 'z'], ['y', 'c', 'm', 's', 'g', 'm', 'o', 't'], ['t', 't', 'h', 'i', 'q', 's', 'n', 't'], ['p', 'n', 'm', 'q', 'm', 'y', 'y', 'b'], ['w', 'h', 'b', 'm', 'h', 'c', 'a', 'f'], ['p', 'a', 'y', 'f', 'f', 'z', 's', 't'], ['v', 'n', 'm', 'b', 'd', 'r', 'f', 's'], ['o', 'k', 'f', 't', 'n', 'i', 'x', 'y'], ['m', 'l', 'w', 'w', 'e', 'c', 'b', 's'], ['p', 'x', 'u', 't', 'b', 'x', 'd', 'w'], ['g', 'b', 't', 'j', 'm', 'o', 's', 'd'], ['w', 'l', 'f', 'f', 'k', 's', 'k', 'o'], ['f', 'i', 'd', 'k', 't', 's', 'n', 'm'], ['y', 'n', 'k', 'b', 'z', 'z', 'y', 'z'], ['z', 'r', 'r', 'c', 'n', 'd', 'q', 'k'], ['f', 'p', 'p', 'f', 's', 'a', 'y', 'u'], ['s', 'p', 'r', 'b', 'q', 'n', 'v', 'y'], ['d', 'l', 'd', 'j', 'k', 'b', 'j', 'f'], ['p', 'z', 'k', 'z', 'p', 't', 'b', 'g'], ['h', 'k', 'f', 'i', 'h', 'n', 'f', 'z'], ['v', 'p', 'q', 'e', 'x', 'i', 'o', 'j'], ['p', 'g', 'd', 'a', 'r', 'l', 'w', 'r'], ['y', 'w', 'f', 'h', 'g', 'm', 'c', 'y'], ['x', 't', 'c', 'e', 'p', 'w', 't', 'x'], ['p', 's', 't', 'j', 'd', 'x', 'g', 'c'], ['s', 'u', 'b', 'q', 'g', 'e', 's', 'j'], ['r', 'z', 'c', 's', 'm', 'q', 'c', 'u'], ['e', 'c', 'a', 'm', 'l', 'y', 'q', 'r'], ['k', 'm', 'm', 't', 's', 'w', 'u', 's'], ['i', 'v', 'a', 's', 'c', 'c', 'b', 'd'], ['h', 'f', 't', 'm', 'y', 'c', 'e', 'z'], ['d', 'c', 'q', 'n', 'y', 'm', 'd', 'w'], ['r', 'u', 'z', 'g', 'h', 'm', 'q', 'r'], ['n', 'k', 'k', 'g', 'i', 'a', 'm', 'm'], ['y', 's', 'n', 'w', 'd', 'q', 'd', 'i'], ['a', 'm', 'a', 'e', 'z', 'x', 'g', 'i'], ['l', 'g', 'r', 'd', 'a', 'i', 'm', 'p'], ['u', 'w', 'm', 'r', 'k', 'q', 'n', 'l'], ['t', 'r', 'm', 'r', 'u', 'b', 'b', 'x'], ['x', 'o', 'n', 'a', 'w', 'v', 'm', 'l'], ['p', 'i', 'y', 'n', 'n', 'x', 'q', 'n'], ['f', 'v', 'r', 'i', 'k', 'g', 'g', 'm'], ['r', 'i', 'n', 'd', 'z', 'f', 'u', 'p'], ['e', 'd', 'o', 'p', 'a', 'r', 'o', 'q'], ['r', 'f', 'd', 'n', 'e', 't', 'a', 'b'], ['o', 'a', 'v', 't', 'a', 'c', 'x', 'p'], ['l', 'w', 'h', 'q', 'm', 'z', 'p', 'k'], ['e', 'h', 'c', 'w', 'r', 'd', 'r', 'u'], ['c', 't', 'g', 'e', 't', 'l', 'u', 'i'], ['b', 'c', 't', 'q', 'h', 'q', 'l', 'o'], ['w', 'r', 'x', 'x', 'l', 'm', 'j', 'k'], ['u', 'w', 'h', 'w', 'j', 'a', 'p', 's'], ['j', 'e', 'l', 'h', 's', 'o', 'w', 'r'], ['c', 'b', 'w', 'o', 'w', 'z', 'w', 'y'], ['s', 't', 'q', 'k', 'y', 'e', 'q', 'h'], ['a', 'y', 'p', 'k', 'e', 'l', 'r', 't'], ['c', 'o', 'm', 'e', 'b', 'm', 'm', 'j'], ['g', 'e', 'q', 'l', 'l', 'p', 'k', 's'], ['s', 'f', 'd', 'o', 'n', 't', 'w', 'l'], ['h', 'p', 'p', 'm', 'v', 'k', 'y', 'l'], ['v', 'u', 'k', 't', 'o', 'w', 'p', 'p'], ['o', 'c', 'o', 'i', 'e', 'v', 'z', 's'], ['h', 'a', 'x', 'k', 'f', 'y', 'j', 'c'], ['d', 'h', 'l', 'u', 'e', 'j', 'e', 'b'], ['w', 'z', 'i', 'x', 'g', 'w', 't', 's'], ['s', 'y', 'm', 'y', 'q', 's', 'n', 'a'], ['i', 'u', 'x', 'r', 'c', 'e', 'r', 'k'], ['p', 'z', 'f', 'q', 'u', 'j', 'o', 'w'], ['u', 'r', 'c', 'c', 'n', 'f', 'y', 'o'], ['l', 'w', 'o', 'v', 'i', 'l', 'm', 'r'], ['l', 'm', 'p', 'j', 'j', 'h', 'w', 'v'], ['a', 'k', 'o', 'b', 'w', 'x', 't', 'n'], ['t', 'q', 'b', 'q', 'u', 'p', 't', 'z'], ['x', 'k', 'u', 'z', 'l', 'h', 'w', 'z'], ['w', 'a', 'k', 't', 'k', 'c', 'z', 't'], ['k', 'v', 'y', 'c', 'c', 'f', 'r', 'b'], ['w', 'v', 'h', 'h', 'e', 'l', 'f', 'l'], ['v', 't', 'u', 'j', 'f', 'd', 'y', 'l'], ['l', 'f', 'h', 'a', 'e', 'p', 'j', 'a'], ['z', 'n', 'l', 'b', 'u', 'o', 's', 'a'], ['j', 't', 'm', 'v', 'r', 'u', 'z', 'q'], ['d', 'w', 'z', 'x', 's', 'n', 'p', 'x'], ['q', 'h', 'x', 'm', 'u', 'w', 'd', 'e'], ['c', 'l', 'a', 'q', 'v', 'm', 'e', 'l'], ['j', 'j', 'e', 'j', 'b', 'y', 'w', 'd'], ['z', 'k', 'x', 'f', 't', 'x', 'l', 'w'], ['z', 'i', 'x', 'n', 'w', 'v', 'j', 'k'], ['m', 'h', 's', 'v', 'l', 'j', 's', 'j'], ['f', 'd', 'y', 'u', 'k', 'g', 'p', 'x'], ['k', 'e', 'v', 'i', 'z', 'u', 'l', 'e'], ['d', 'k', 'u', 'y', 'x', 't', 's', 'm'], ['r', 'p', 'o', 'n', 'd', 'v', 'e', 'w'], ['x', 'z', 'w', 'x', 'o', 'w', 'w', 'e'], ['u', 'a', 'q', 'p', 'j', 'o', 'c', 'u'], ['x', 'f', 'y', 's', 'j', 'h', 'b', 'z'], ['k', 'm', 'c', 'o', 'o', 'k', 'j', 'd'], ['l', 'k', 'v', 'c', 'i', 's', 'x', 'x'], ['x', 's', 'l', 'u', 'n', 'i', 'o', 'b']];

	let state = {};
	resetState();

	const canvas = document.getElementById('cnv');
	const gfx = canvas.getContext('2d');
	let offScreenCanvas;

	let width = window.innerWidth;
	let height = window.innerHeight;
	let halfWidth = width / 2;
	let halfHeight = height / 2;
	let scale = height / 1000;
	predraw();

	let currentLoop = null;

	function resetState() {
		state = {
			current: 'idle',
			column: 0,
			index: 0,
			messageData: [{}, {}, {}, {}, {}, {}, {}, {}],
			message: ['_', '_', '_', '_', '_', '_', '_', '_']
		};
	}

	window.addEventListener('resize', resize, false);
	function resize() {
		canvas.width = width = window.innerWidth;
		canvas.height = height = window.innerHeight;
		halfWidth = width / 2;
		halfHeight = height / 2;
		scale = height / 1000;
		gfx.fillStyle = '#FFFFFF';
		gfx.fillRect(0, 0, width, height);
		predraw();
		redraw();
	}
	resize();

	function update() {
		switch (state.current) {
			case 'idle':
				state.current = 'moving';
				break;
			case 'moving':
				if (state.index === input.length) {
					state.current = 'end';
					return;
				}

				for (var i = 0; i < 8; i++) {
					let columnData = state.messageData[i];
					if (!columnData[input[state.index][i]]) {
						columnData[input[state.index][i]] = {
							amount: 0
						}
					}
					columnData[input[state.index][i]].amount++;

					let mostOccuring = null;
					for (var key in state.messageData[i]) {
						if (columnData.hasOwnProperty(key)) {
							if (!mostOccuring) {
								mostOccuring = {letter: key, amount: columnData[key].amount};
								continue;
							} else if(mostOccuring.amount < columnData[key].amount || (mostOccuring.amount === columnData[key].amount && mostOccuring.letter.charCodeAt() > key.charCodeAt())) {
								mostOccuring = {letter: key, amount: columnData[key].amount};
							}
						}
					}
					state.message[i] = mostOccuring.letter;
				}

				state.index++;
				break;
		}
	}

	function predraw() {
		offScreenCanvas = document.createElement('canvas');
		offScreenCanvas.width = 1000 * scale;
		offScreenCanvas.height = 1000 * scale;
		var oscctx = offScreenCanvas.getContext('2d');
		oscctx.strokeStyle = '#000000';
		oscctx.lineWidth = 3;
		oscctx.beginPath();
		oscctx.rect(0, 0, 230 * scale, 50 * scale);
		oscctx.stroke();
	}

	function redraw() {
		if (state.current !== 'idle') {
			gfx.fillStyle = '#FFFFFF';
			gfx.fillRect(halfWidth - (300 * scale), 0, 600, height);

			gfx.fillStyle = state.current === 'end' ? '#3aad48' : '#af3636';
			gfx.fillRect(halfWidth - (120 * scale), height - (100 * scale), 230 * scale, 50 * scale);
			gfx.fillStyle = '#000000';
			gfx.font = (30 * scale) + 'px tahoma';
			for (var j = 0; j < 8; j++) {
				for (var i = 0; i < 31; i++) {
					if (state.index + i < input.length) {
						gfx.fillText(input[state.index + i][j], halfWidth - (104 * scale) + (j * 26 * scale), height - (115 * scale) - (i * 28 * scale));
					}
				}
			}
			for (var k = 0; k < 8; k++) {
				gfx.fillText(state.message[k], halfWidth - (104 * scale) + (k * 26 * scale), height - (60 * scale));
			}
			gfx.drawImage(offScreenCanvas, halfWidth - (120 * scale), height - (100 * scale));
		}
	}

	function loop() {
		update();
		redraw();
		currentLoop = requestAnimationFrame(loop);
	}

	function start() {
		if (currentLoop) {
			cancelAnimationFrame(currentLoop);
		}
		currentLoop = requestAnimationFrame(loop);
		resetState();
		gfx.fillStyle = '#FFFFFF';
		gfx.fillRect(0, 0, width, height);
		predraw();
		if (document.getElementById('init-text')) {
			document.getElementsByTagName('body')[0].removeChild(document.getElementById('init-text'));
		}
	}

	document.getElementsByTagName('body')[0].addEventListener('keyup', function (event) {
		if (event.keyCode === 32) {
			start();
		}
	}, false);

	document.getElementsByTagName('body')[0].addEventListener('touchstart', start, false);
</script>
</body>
</html>
